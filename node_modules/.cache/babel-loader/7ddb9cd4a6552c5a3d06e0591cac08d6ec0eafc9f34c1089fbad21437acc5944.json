{"ast":null,"code":"import _objectSpread from\"/Users/maarsello/dev/react-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/maarsello/dev/react-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"/Users/maarsello/dev/react-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"onEditProfile\",\"onAddPlace\",\"onEditAvatar\",\"cards\",\"handleLogin\",\"userEmail\"];import React,{useContext,useState}from\"react\";import Card from\"./Card\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{useNavigate}from\"react-router-dom\";import Header from\"./Header\";import burgerMenu from'../images/icon-burger.svg';import close from'../images/icon-close.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,cards=_ref.cards,handleLogin=_ref.handleLogin,userEmail=_ref.userEmail,props=_objectWithoutProperties(_ref,_excluded);var currentUser=useContext(CurrentUserContext);var _useState=useState(true),_useState2=_slicedToArray(_useState,2),menuIsOpen=_useState2[0],setMenuIsOpen=_useState2[1];var navigate=useNavigate();var signOut=function signOut(){localStorage.removeItem('jwt');handleLogin();navigate('/sign-in',{replace:true});};var handleMenuOpen=function handleMenuOpen(){setMenuIsOpen(!menuIsOpen);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Header,{isRender:true,handleMenuOpen:handleMenuOpen,userEmail:userEmail,handleLogin:handleLogin,menuIsOpen:menuIsOpen,children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"header__nav header__nav_close\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"header__span\",children:userEmail}),/*#__PURE__*/_jsx(\"button\",{className:\"header__button\",onClick:signOut,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:{backgroundImage:\"url(\".concat(menuIsOpen?burgerMenu:close,\")\")},className:\"header__button-burger\",onClick:handleMenuOpen})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile content__profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar-img\",src:currentUser.avatar,alt:\"\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__avatar-button\",onClick:onEditAvatar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__title\",children:currentUser.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__edit-button\",\"aria-label\":\"edit profile\",onClick:onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__subtitle\",children:currentUser.about})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",\"aria-label\":\"edit card\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements content__elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,_objectSpread({card:card},props),card._id);})})]})]});}export default Main;","map":{"version":3,"names":["React","useContext","useState","Card","CurrentUserContext","useNavigate","Header","burgerMenu","close","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","cards","handleLogin","userEmail","props","_objectWithoutProperties","_excluded","currentUser","_useState","_useState2","_slicedToArray","menuIsOpen","setMenuIsOpen","navigate","signOut","localStorage","removeItem","replace","handleMenuOpen","children","isRender","className","onClick","type","style","backgroundImage","concat","src","avatar","alt","name","about","map","card","_objectSpread","_id"],"sources":["/Users/maarsello/dev/react-auth/react-mesto-auth/src/components/Main.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport burgerMenu from '../images/icon-burger.svg'\nimport close from '../images/icon-close.svg'\n\n\nfunction Main ({onEditProfile, onAddPlace, onEditAvatar , cards, handleLogin, userEmail, ...props}) {\n\n  const currentUser = useContext(CurrentUserContext);\n  const [menuIsOpen, setMenuIsOpen] = useState(true);\n  const navigate = useNavigate();\n\n  const signOut = () => {\n    localStorage.removeItem('jwt');\n    handleLogin();\n    navigate('/sign-in', {replace: true});\n  }\n\n  const handleMenuOpen = () => {\n    setMenuIsOpen(!menuIsOpen);\n  }\n\n  return (\n    <>\n      < Header isRender={true} handleMenuOpen={handleMenuOpen} userEmail={userEmail} handleLogin={handleLogin} menuIsOpen={menuIsOpen}>\n          <nav className=\"header__nav header__nav_close\">\n            <span className=\"header__span\">{userEmail}</span>\n            <button className=\"header__button\" onClick={signOut}>Выйти</button>\n          </nav>\n          <button type=\"button\" style={{\n            backgroundImage: `url(${menuIsOpen ? burgerMenu : close})`\n          }} className='header__button-burger' onClick={handleMenuOpen}></button>\n      </Header>\n\n      <main className=\"content\">\n        <section className=\"profile content__profile\">\n          <div className=\"profile__card\">\n            <div className=\"profile__avatar\">\n              <img className=\"profile__avatar-img\" src={currentUser.avatar} alt=\"аватарка\"/>\n              <button className=\"profile__avatar-button\" onClick={onEditAvatar}></button>\n            </div>\n            <div className=\"profile__info\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button type=\"button\" className=\"profile__edit-button\" aria-label=\"edit profile\"  onClick={onEditProfile}></button>\n              <p className=\"profile__subtitle\">{currentUser.about}</p>\n            </div>\n          </div>\n          <button className=\"profile__add-button\" aria-label=\"edit card\" onClick={onAddPlace}></button>\n        </section>\n\n        <section className=\"elements content__elements\">\n          {cards.map((card) => (\n              < Card\n                key={card._id}\n                card={card}\n                {...props}\n              />\n          ))}\n        </section>\n      </main>\n    </>\n  )\n}\n\nexport default Main"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}