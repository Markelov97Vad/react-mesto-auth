{"ast":null,"code":"import _classCallCheck from\"/Users/maarsello/dev/react-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/maarsello/dev/react-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var url=_ref.url,headers=_ref.headers;_classCallCheck(this,Api);this._url=url;this._headers=headers;}_createClass(Api,[{key:\"_getPromise\",value:function _getPromise(res){if(res.ok){return res.json();}return Promise.reject(res.status);}},{key:\"_request\",value:function _request(url,options){var _this=this;return fetch(url,options).then(function(res){return _this._getPromise(res);});}},{key:\"getCards\",value:function getCards(){return this._request(\"\".concat(this._url,\"/cards\"),{headers:this._headers});}},{key:\"getUserInfo\",value:function getUserInfo(){return this._request(\"\".concat(this._url,\"/users/me\"),{headers:this._headers});}},{key:\"setUserInfo\",value:function setUserInfo(data){return this._request(\"\".concat(this._url,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:data.name,about:data.about})});}},{key:\"addCard\",value:function addCard(data){return this._request(\"\".concat(this._url,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:data.name,link:data.link})});}},{key:\"deleteCard\",value:function deleteCard(cardId){return this._request(\"\".concat(this._url,\"/cards/\").concat(cardId),{method:'DELETE',headers:this._headers});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){return this._request(\"\".concat(this._url,\"/cards/\").concat(cardId,\"/likes\"),{method:\"\".concat(isLiked?'PUT':'DELETE'),headers:this._headers});}},{key:\"setUserAvatar\",value:function setUserAvatar(data){return this._request(\"\".concat(this._url,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.avatar})});}}]);return Api;}();var api=new Api({url:'https://nomoreparties.co/v1/cohort-58/',headers:{authorization:'3a547c89-4deb-4ce7-94f8-c49690def692',\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"names":["Api","_ref","url","headers","_classCallCheck","_url","_headers","_createClass","key","value","_getPromise","res","ok","json","Promise","reject","status","_request","options","_this","fetch","then","getCards","concat","getUserInfo","setUserInfo","data","method","body","JSON","stringify","name","about","addCard","link","deleteCard","cardId","changeLikeCardStatus","isLiked","setUserAvatar","avatar","api","authorization"],"sources":["/Users/maarsello/dev/react-auth/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor({url, headers}) {\n    this._url = url;\n    this._headers = headers;\n  }\n\n  _getPromise(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(res.status)\n  }\n\n  _request(url, options) {\n    return fetch(url, options).then(res =>this._getPromise(res))\n  }\n\n  getCards () {\n    return this._request(`${this._url}/cards`, {\n      headers: this._headers\n    })\n  }\n\n  getUserInfo () {\n    return this._request(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n  }\n\n  setUserInfo(data) {\n    return this._request(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n  }\n\n  addCard(data) {\n    return this._request(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n  }\n\n  deleteCard(cardId) {\n    return this._request(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n  }\n  \n  changeLikeCardStatus(cardId, isLiked) { \n    return this._request(`${this._url}/cards/${cardId}/likes`,{\n      method: `${ isLiked ? 'PUT' : 'DELETE'}`,\n      headers: this._headers\n    })\n  }\n\n  setUserAvatar(data) {\n    return this._request(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n  }\n\n}\nconst api = new Api ({\n  url: 'https://nomoreparties.co/v1/cohort-58/',\n  headers: {\n    authorization: '3a547c89-4deb-4ce7-94f8-c49690def692',\n    \"Content-Type\": \"application/json\",\n  }\n});\n\n\nexport default api"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}