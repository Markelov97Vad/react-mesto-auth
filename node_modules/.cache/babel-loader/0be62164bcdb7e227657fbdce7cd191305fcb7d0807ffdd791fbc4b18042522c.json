{"ast":null,"code":"import _objectSpread from\"/Users/maarsello/dev/react-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/Users/maarsello/dev/react-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"onUpdateUser\",\"isOpen\"];import React,{useContext,useEffect,useState}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{useForm}from\"../hooks/useForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var onUpdateUser=_ref.onUpdateUser,isOpen=_ref.isOpen,props=_objectWithoutProperties(_ref,_excluded);var currentUser=useContext(CurrentUserContext);var _useForm=useForm({}),values=_useForm.values,handleChange=_useForm.handleChange,setValues=_useForm.setValues;function handleSubmit(event){event.preventDefault();onUpdateUser({name:values.name,about:values.about});}useEffect(function(){setValues(currentUser);},[currentUser,isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,_objectSpread(_objectSpread({name:\"edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onSubmit:handleSubmit},props),{},{children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input\",type:\"text\",name:\"name\",value:values.name||'',onChange:handleChange,id:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"name-error\",className:\"form__input-error\",children:\"\\u0412\\u044B \\u043F\\u0440\\u043E\\u043F\\u0443\\u0441\\u0442\\u0438\\u043B\\u0438 \\u044D\\u0442\\u043E \\u043F\\u043E\\u043B\\u0435\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form__input\",type:\"text\",name:\"about\",value:values.about||'',onChange:handleChange,id:\"job\",placeholder:\"\\u0412\\u0438\\u0434 \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\",minLength:\"2\",maxLength:\"200\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"job-error\",className:\"form__input-error\",children:\"\\u0412\\u044B \\u043F\\u0440\\u043E\\u043F\\u0443\\u0441\\u0442\\u0438\\u043B\\u0438 \\u044D\\u0442\\u043E \\u043F\\u043E\\u043B\\u0435\"})]}));}export default EditProfilePopup;","map":{"version":3,"names":["React","useContext","useEffect","useState","PopupWithForm","CurrentUserContext","useForm","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","onUpdateUser","isOpen","props","_objectWithoutProperties","_excluded","currentUser","_useForm","values","handleChange","setValues","handleSubmit","event","preventDefault","name","about","_objectSpread","title","buttonText","onSubmit","children","className","type","value","onChange","id","placeholder","minLength","maxLength","required"],"sources":["/Users/maarsello/dev/react-auth/react-mesto-auth/src/components/EditProfilePopup.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { useForm } from \"../hooks/useForm\";\n\nfunction EditProfilePopup ({onUpdateUser, isOpen, ...props}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const {values, handleChange, setValues} = useForm({});\n\n  function handleSubmit (event) {\n    event.preventDefault();\n    onUpdateUser({\n      name: values.name,\n      about: values.about\n    })\n  }\n\n  useEffect(() => {\n    setValues(currentUser)\n  }, [currentUser, isOpen])\n\n  return (\n    <PopupWithForm \n      name='edit'\n      title='Редактировать профиль'\n      isOpen={isOpen}\n      buttonText='Сохранить'\n      onSubmit={handleSubmit}\n      {...props}\n      >\n        <input className=\"form__input\" type=\"text\" name=\"name\" value={values.name || ''} onChange={handleChange} id=\"name\" placeholder=\"Имя\"\n          minLength=\"2\" maxLength=\"40\" required/>\n        <span id=\"name-error\" className=\"form__input-error\">Вы пропустили это поле</span>\n        <input className=\"form__input\" type=\"text\" name=\"about\" value={values.about || ''} onChange={handleChange} id=\"job\" placeholder=\"Вид деятельности\"\n          minLength=\"2\" maxLength=\"200\" required/>\n        <span id=\"job-error\" className=\"form__input-error\">Вы пропустили это поле</span>\n      </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup"],"mappings":"uUAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,OAASC,kBAAkB,KAAQ,gCAAgC,CACnE,OAASC,OAAO,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3C,QAAS,CAAAC,gBAAgBA,CAAAC,IAAA,CAAoC,IAAjC,CAAAC,YAAY,CAAAD,IAAA,CAAZC,YAAY,CAAEC,MAAM,CAAAF,IAAA,CAANE,MAAM,CAAKC,KAAK,CAAAC,wBAAA,CAAAJ,IAAA,CAAAK,SAAA,EACxD,GAAM,CAAAC,WAAW,CAAGjB,UAAU,CAACI,kBAAkB,CAAC,CAElD,IAAAc,QAAA,CAA0Cb,OAAO,CAAC,CAAC,CAAC,CAAC,CAA9Cc,MAAM,CAAAD,QAAA,CAANC,MAAM,CAAEC,YAAY,CAAAF,QAAA,CAAZE,YAAY,CAAEC,SAAS,CAAAH,QAAA,CAATG,SAAS,CAEtC,QAAS,CAAAC,YAAYA,CAAEC,KAAK,CAAE,CAC5BA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBZ,YAAY,CAAC,CACXa,IAAI,CAAEN,MAAM,CAACM,IAAI,CACjBC,KAAK,CAAEP,MAAM,CAACO,KAChB,CAAC,CAAC,CACJ,CAEAzB,SAAS,CAAC,UAAM,CACdoB,SAAS,CAACJ,WAAW,CAAC,CACxB,CAAC,CAAE,CAACA,WAAW,CAAEJ,MAAM,CAAC,CAAC,CAEzB,mBACEJ,KAAA,CAACN,aAAa,CAAAwB,aAAA,CAAAA,aAAA,EACZF,IAAI,CAAC,MAAM,CACXG,KAAK,CAAC,2HAAuB,CAC7Bf,MAAM,CAAEA,MAAO,CACfgB,UAAU,CAAC,wDAAW,CACtBC,QAAQ,CAAER,YAAa,EACnBR,KAAK,MAAAiB,QAAA,eAEPxB,IAAA,UAAOyB,SAAS,CAAC,aAAa,CAACC,IAAI,CAAC,MAAM,CAACR,IAAI,CAAC,MAAM,CAACS,KAAK,CAAEf,MAAM,CAACM,IAAI,EAAI,EAAG,CAACU,QAAQ,CAAEf,YAAa,CAACgB,EAAE,CAAC,MAAM,CAACC,WAAW,CAAC,oBAAK,CAClIC,SAAS,CAAC,GAAG,CAACC,SAAS,CAAC,IAAI,CAACC,QAAQ,MAAC,CAAC,cACzCjC,IAAA,SAAM6B,EAAE,CAAC,YAAY,CAACJ,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,uHAAsB,CAAM,CAAC,cACjFxB,IAAA,UAAOyB,SAAS,CAAC,aAAa,CAACC,IAAI,CAAC,MAAM,CAACR,IAAI,CAAC,OAAO,CAACS,KAAK,CAAEf,MAAM,CAACO,KAAK,EAAI,EAAG,CAACS,QAAQ,CAAEf,YAAa,CAACgB,EAAE,CAAC,KAAK,CAACC,WAAW,CAAC,6FAAkB,CAChJC,SAAS,CAAC,GAAG,CAACC,SAAS,CAAC,KAAK,CAACC,QAAQ,MAAC,CAAC,cAC1CjC,IAAA,SAAM6B,EAAE,CAAC,WAAW,CAACJ,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,uHAAsB,CAAM,CAAC,GACnE,CAAC,CAEtB,CAEA,cAAe,CAAArB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}